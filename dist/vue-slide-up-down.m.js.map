{"version":3,"file":"vue-slide-up-down.m.js","sources":["../src/slide-up-down.js"],"sourcesContent":["export default {\n  name: 'SlideUpDown',\n\n  props: {\n    active: {\n      type: Boolean,\n      default:  true\n    },\n    duration: {\n      type: Number,\n      default: 500\n    }\n  },\n\n  data: () => ({\n    maxHeight: 0,\n    offsetHeight: 0,\n    isMounted: false,\n    initialStateReached: false\n  }),\n\n  render (h) {\n    return h(\n      'div',\n      {\n        style: this.style,\n        ref: 'container'\n      },\n      this.$slots.default\n    )\n  },\n\n  mounted () {\n    Vue.nextTick(() => {\n      this.isMounted = true\n      this.layout();\n    })\n  },\n\n  watch: {\n    active () {\n      this.layout()\n    }\n  },\n\n  computed: {\n    style () {\n      return {\n        'transition': 'height '+this.duration + 'ms',\n        'height': this.isMounted ? this.maxHeight : '0'\n      }\n    }\n  },\n\n  methods: {\n    layout () {\n      const { container } = this.$refs\n      if (this.active) {\n        const style = container.getAttribute('style')\n        container.removeAttribute('style')\n        this.offsetHeight = container.offsetHeight\n        container.setAttribute('style', style)\n        let self = this;\n        requestAnimationFrame(function() {\n          self.maxHeight = self.offsetHeight + 'px';\n        });\n        setTimeout(function(){\n          container.style.overflow = 'initial';\n          self.maxHeight = 'auto';\n        }, this.duration)\n\n        this.initialStateReached = true;\n      } else {\n        container.style.overflow = 'hidden';\n        if( this.initialStateReached ) {\n          container.style.height = this.offsetHeight + 'px';\n          let self = this;\n          requestAnimationFrame(function() {\n            self.maxHeight = '0';\n          });\n        }\n      }\n    }\n  }\n}\n"],"names":["name","props","active","type","Boolean","default","duration","Number","data","maxHeight","offsetHeight","isMounted","initialStateReached","render","h","style","this","ref","$slots","mounted","Vue","nextTick","layout","watch","computed","transition","height","methods","container","$refs","const","getAttribute","removeAttribute","setAttribute","let","self","requestAnimationFrame","setTimeout","overflow"],"mappings":"eACEA,KAAM,cAENC,OACEC,QACEC,KAAMC,QACNC,SAAU,GAEZC,UACEH,KAAMI,OACNF,QAAS,MAIbG,uBACEC,UAAW,EACXC,aAAc,EACdC,WAAW,EACXC,qBAAqB,IAGvBC,gBAAQC,GACN,OAAOA,EACL,OAEEC,MAAOC,KAAKD,MACZE,IAAK,aAEPD,KAAKE,OAAOb,UAIhBc,8BACEC,IAAIC,oBACFL,EAAKL,WAAY,EACjBK,EAAKM,YAITC,OACErB,kBACEc,KAAKM,WAITE,UACET,iBACE,OACEU,WAAc,UAAUT,KAAKV,SAAW,KACxCoB,OAAUV,KAAKL,UAAYK,KAAKP,UAAY,OAKlDkB,SACEL,kBACE,IAAQM,EAAcZ,KAAKa,gBAC3B,GAAIb,KAAKd,OAAQ,CACf4B,IAAMf,EAAQa,EAAUG,aAAa,SACrCH,EAAUI,gBAAgB,SAC1BhB,KAAKN,aAAekB,EAAUlB,aAC9BkB,EAAUK,aAAa,QAASlB,GAChCmB,IAAIC,EAAOnB,KACXoB,sBAAsB,WACpBD,EAAK1B,UAAY0B,EAAKzB,aAAe,OAEvC2B,WAAW,WACTT,EAAUb,MAAMuB,SAAW,UAC3BH,EAAK1B,UAAY,QAChBO,KAAKV,UAERU,KAAKJ,qBAAsB,OAG3B,GADAgB,EAAUb,MAAMuB,SAAW,SACvBtB,KAAKJ,oBAAsB,CAC7BgB,EAAUb,MAAMW,OAASV,KAAKN,aAAe,KAC7CwB,IAAIC,EAAOnB,KACXoB,sBAAsB,WACpBD,EAAK1B,UAAY"}