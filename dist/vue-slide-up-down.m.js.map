{"version":3,"file":"vue-slide-up-down.m.js","sources":["../src/slide-up-down.js"],"sourcesContent":["export default {\n  name: 'SlideUpDown',\n\n  props: {\n    active: {\n      type: Boolean,\n      default:  true\n    },\n    duration: {\n      type: Number,\n      default: 500\n    }\n  },\n\n  data: () => ({\n    maxHeight: 0,\n    overflow: 'inherit',\n    offsetHeight: 0,\n    isMounted: false\n  }),\n\n  render (h) {\n    return h(\n      'div',\n      {\n        style: this.style,\n        ref: 'container'\n      },\n      this.$slots.default\n    )\n  },\n\n  created() {\n    this.observer = new MutationObserver(this.layout);\n  },\n\n  mounted () {\n    this.observer.observe( this.$el, { subtree: true, childList: true } );\n    window.addEventListener('resize', this.layout);\n    Vue.nextTick(() => {\n      this.isMounted = true\n      this.layout();\n    })\n  },\n\n  destroyed () {\n    this.observer.disconnect();\n    delete( this.observer );\n    window.removeEventListener('resize', this.layout);\n  },\n\n  watch: {\n    active () {\n      this.layout()\n    }\n  },\n\n  computed: {\n    style () {\n      return {\n        overflow: this.overflow,\n        'transition-property': 'height',\n        height: this.isMounted ? this.maxHeight + 'px' : 'auto',\n        'transition-duration': this.duration + 'ms'\n      }\n    }\n  },\n\n  methods: {\n    layout () {\n      const { container } = this.$refs\n\n      if (this.active) {\n        this.overflow = 'inherit';\n        const style = container.getAttribute('style')\n        container.removeAttribute('style')\n        this.maxHeight = container.offsetHeight\n        container.setAttribute('style', style)\n\n        // call this explicitely to force a new layout\n        this.offsetHeight = container.offsetHeight\n      } else {\n        this.overflow = 'hidden';\n        this.maxHeight = 0\n      }\n    }\n  }\n}\n"],"names":["name","props","active","type","Boolean","default","duration","Number","data","maxHeight","overflow","offsetHeight","isMounted","render","h","style","this","ref","$slots","created","observer","MutationObserver","layout","mounted","observe","$el","subtree","childList","window","addEventListener","Vue","nextTick","destroyed","disconnect","removeEventListener","watch","computed","transition-property","height","transition-duration","methods","container","$refs","const","getAttribute","removeAttribute","setAttribute"],"mappings":"eACEA,KAAM,cAENC,OACEC,QACEC,KAAMC,QACNC,SAAU,GAEZC,UACEH,KAAMI,OACNF,QAAS,MAIbG,uBACEC,UAAW,EACXC,SAAU,UACVC,aAAc,EACdC,WAAW,IAGbC,gBAAQC,GACN,OAAOA,EACL,OAEEC,MAAOC,KAAKD,MACZE,IAAK,aAEPD,KAAKE,OAAOb,UAIhBc,mBACEH,KAAKI,SAAW,IAAIC,iBAAiBL,KAAKM,SAG5CC,8BACEP,KAAKI,SAASI,QAASR,KAAKS,KAAOC,SAAS,EAAMC,WAAW,IAC7DC,OAAOC,iBAAiB,SAAUb,KAAKM,QACvCQ,IAAIC,oBACFf,EAAKJ,WAAY,EACjBI,EAAKM,YAITU,qBACEhB,KAAKI,SAASa,oBACNjB,KAAKI,SACbQ,OAAOM,oBAAoB,SAAUlB,KAAKM,SAG5Ca,OACEjC,kBACEc,KAAKM,WAITc,UACErB,iBACE,OACEL,SAAUM,KAAKN,SACf2B,sBAAuB,SACvBC,OAAQtB,KAAKJ,UAAYI,KAAKP,UAAY,KAAO,OACjD8B,sBAAuBvB,KAAKV,SAAW,QAK7CkC,SACElB,kBACE,IAAQmB,EAAczB,KAAK0B,gBAE3B,GAAI1B,KAAKd,OAAQ,CACfc,KAAKN,SAAW,UAChBiC,IAAM5B,EAAQ0B,EAAUG,aAAa,SACrCH,EAAUI,gBAAgB,SAC1B7B,KAAKP,UAAYgC,EAAU9B,aAC3B8B,EAAUK,aAAa,QAAS/B,GAGhCC,KAAKL,aAAe8B,EAAU9B,kBAE9BK,KAAKN,SAAW,SAChBM,KAAKP,UAAY"}